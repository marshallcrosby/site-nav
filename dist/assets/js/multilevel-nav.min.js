/*!
  * Multilevel nav v4.0.0 Beta
  */
let mlnCurrent=1;const mlnViewport=()=>{let e=window,t="inner";return"innerWidth"in window||(t="client",e=document.documentElement||document.body),{width:e[t+"Width"],height:e[t+"Height"]}},mlnCreateCustomEvent=(e,t=null)=>new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:t}),mlnHoverIntent=(e,t)=>{const n=Object.assign({sensitivity:7,interval:100,timeout:0,over:()=>{},out:()=>{}},t||{});let l,i,s,a,o,r=!1;const c=e=>{l=e.clientX,i=e.clientY},d=t=>{Math.abs(s-l)+Math.abs(a-i)<n.sensitivity?(e.removeEventListener("mousemove",c),r=!0,o&&clearTimeout(o),n.over.call(e,t)):(s=l,a=i,o=setTimeout(()=>d(t),n.interval))},m=t=>{o&&clearTimeout(o),r=!0,s=t.clientX,a=t.clientY,e.addEventListener("mousemove",c),o=setTimeout(()=>d(t),n.interval)},h=t=>{o&&clearTimeout(o),e.removeEventListener("mousemove",c),r&&(t=>{o&&clearTimeout(o),r=!1,n.timeout?o=setTimeout(()=>{r||n.out.call(e,t)},n.timeout):n.out.call(e,t)})(t)};return e.addEventListener("mouseenter",m),e.addEventListener("mouseleave",h),{remove:()=>{e.removeEventListener("mouseenter",m),e.removeEventListener("mouseleave",h),e.removeEventListener("mousemove",c),o&&clearTimeout(o)}}};(()=>{let e,t=window.innerWidth;window.addEventListener("resize",()=>{let n=window.innerWidth;t!==n&&(e&&clearTimeout(e),e=setTimeout(()=>{window.dispatchEvent(mlnCreateCustomEvent("mlnResizeEnd"))},150)),t=n})})();const multilevelNavSetup=(e,t={})=>{if(!e)return;const n=Object.assign({hoverIntent:!1,hoverIntentTimeout:250,autoCloseNavbarMenus:!0,autoDirection:!0,toggleOnClickOnly:!1,expandActiveItem:!1,offCanvasScrollToActiveItem:!1,wholeLinkToggler:!1,topLevelWholeLinkToggler:!1,navbarMenuBackdrop:!1,navbarMegaMenuBackdrop:!1,activeSelector:".active",menuCloseOnInPageAnchorClick:!1,expanderCloseOnInPageAnchorClick:!1,autoCloseInactiveMenu:!0,excludeLevel:"-1",childMenuTogglerSymbol:'<span class="mln__toggle-btn__chevron"></span>',keepMenuOpenOnFocusOut:!1},t||{}),l=e.querySelector(".mln__list"),i=e.querySelector(".mln__expander"),s=e.getAttribute("data-mln-breakpoint")?parseInt(e.getAttribute("data-mln-breakpoint")):void 0,a="transitionend",o=document.body;let r=!1;const c=(t,l,i)=>{let s;if(t instanceof Element)s=t.closest(".mln__has-child");else if(t&&t.target)s=t.target.closest(".mln__has-child");else{if(!t||!t.closest)return;s=t.closest(".mln__has-child")}if(!s)return;const r=s.querySelector(".mln__toggle-btn, .mln__toggle-link"),c=s.querySelector(":scope > .mln__child__collapse");if(!r||!c)return;let d,m;"show"===l?(d="true",m="false"):"hide"!==l&&void 0!==l||(d="false",m="true"),s.dispatchEvent(mlnCreateCustomEvent("transition.mln.child")),r.setAttribute("aria-expanded",d);const h=c.querySelector(".mln__child__collapse__helper"),u=h?h.offsetHeight:0;if("show"===l){s.classList.add("mln__has-child--showing");if(e.querySelectorAll(".mln__has-child--showing").length&&e.classList.contains("mln--navbar")&&!0===n.navbarMenuBackdrop&&o.classList.add("js-mln-menu-showing"),s.classList.contains("mln__has-child--mega-menu")&&e.classList.contains("mln--navbar")&&!0===n.navbarMegaMenuBackdrop&&o.classList.add("js-mln-mega-menu-showing"),s.dispatchEvent(mlnCreateCustomEvent("show.mln.child")),!0===i){c.classList.add("mln__child--transitioning"),c.style.height=u+"px",c.setAttribute("aria-hidden",m);const e=t=>{t.target===c&&(c.removeEventListener(a,e),c.style.height="auto",c.classList.remove("mln__child--transitioning"),c.style.height="","false"===c.getAttribute("aria-hidden")&&(c.classList.add("mln--height-auto"),c.classList.add("mln__child--overflow-visible")),s.dispatchEvent(mlnCreateCustomEvent("shown.mln.child")),s.dispatchEvent(mlnCreateCustomEvent("transitioned.mln.child")))};c.addEventListener(a,e)}else c.style.height="auto",c.classList.add("mln--height-auto"),c.setAttribute("aria-hidden",m),c.style.height="",c.classList.add("mln__child--overflow-visible"),s.dispatchEvent(mlnCreateCustomEvent("shown.mln.child")),s.dispatchEvent(mlnCreateCustomEvent("transitioned.mln.child"))}if("hide"===l){s.classList.remove("mln__has-child--showing");if(!document.querySelectorAll(".mln--navbar .mln__has-child--showing").length&&document.querySelectorAll(".mln--navbar").length&&o.classList.remove("js-mln-menu-showing"),s.classList.contains("mln__has-child--mega-menu")&&!document.querySelector(".mln__has-child--mega-menu.mln__has-child--showing")&&e.classList.contains("mln--navbar")&&o.classList.remove("js-mln-mega-menu-showing"),s.dispatchEvent(mlnCreateCustomEvent("hide.mln.child")),!0===i){c.style.height=u+"px",c.style.minHeight=u+"px",c.classList.remove("mln__child--overflow-visible","mln--height-auto"),c.setAttribute("aria-hidden",m),c.classList.add("mln__child--transitioning"),c.offsetHeight;const e=t=>{t.target===c&&(c.removeEventListener(a,e),c.classList.remove("mln__child--transitioning"),s.dispatchEvent(mlnCreateCustomEvent("hidden.mln.child")),s.dispatchEvent(mlnCreateCustomEvent("transitioned.mln.child")))};c.addEventListener(a,e),Array.from(c.children).forEach(e=>{e.addEventListener(a,e=>e.stopPropagation())}),c.style.height="",c.style.minHeight=""}else c.classList.remove("mln__child--overflow-visible","mln--height-auto"),c.setAttribute("aria-hidden",m),c.style.height="",s.dispatchEvent(mlnCreateCustomEvent("hidden.mln.child")),s.dispatchEvent(mlnCreateCustomEvent("transitioned.mln.child"))}},d=t=>{if(!i)return;const n=i.querySelector(".mln__expander__helper");if(!1!==t&&n){const t=n.offsetHeight,l=e.querySelector(".mln__expand-btn");if(i.classList.contains("mln__expander--showing")){i.dispatchEvent(mlnCreateCustomEvent("hiding.mln.expander")),i.classList.add("mln__expander--transitioning"),i.style.height=t+"px",i.setAttribute("aria-hidden","true"),l&&l.setAttribute("aria-expanded","false"),setTimeout(()=>{i.classList.remove("mln__expander--showing"),i.style.height=""},10);const e=t=>{t.target===i&&(i.removeEventListener(a,e),i.classList.remove("mln__expander--transitioning"),i.dispatchEvent(mlnCreateCustomEvent("hidden.mln.expander")))};i.addEventListener(a,e),Array.from(i.children).forEach(e=>{e.addEventListener(a,e=>e.stopPropagation())})}else{i.dispatchEvent(mlnCreateCustomEvent("showing.mln.expander")),i.classList.add("mln__expander--transitioning"),i.style.height=t+"px",i.setAttribute("aria-hidden","false"),l&&l.setAttribute("aria-expanded","true");const e=t=>{t.target===i&&(i.removeEventListener(a,e),i.style.height="auto",i.style.height="",i.classList.add("mln__expander--showing"),i.classList.remove("mln__expander--transitioning"),i.dispatchEvent(mlnCreateCustomEvent("shown.mln.expander")))};i.addEventListener(a,e),Array.from(i.children).forEach(e=>{e.addEventListener(a,e=>e.stopPropagation())})}}if(!1===t&&e.closest(".mln--navbar")){const t=e.querySelector(".mln__expand-btn");window.matchMedia(`(max-width: ${s-1}px)`).matches?(i.classList.remove("mln__expander--showing"),i.setAttribute("aria-hidden","true"),t&&t.setAttribute("aria-expanded","false")):(i.setAttribute("aria-hidden","false"),t&&t.setAttribute("aria-expanded","true"))}if(!1===t&&e.classList.contains("mln--expand-above-breakpoint")){const t=e.querySelector(".mln__expand-btn");window.matchMedia(`(max-width: ${s-1}px)`).matches?(i.classList.remove("mln__expander--showing"),i.setAttribute("aria-hidden","true"),t&&t.setAttribute("aria-expanded","false")):(i.classList.add("mln__expander--showing"),i.setAttribute("aria-hidden","false"),t&&t.setAttribute("aria-expanded","true"))}},m=()=>{n.autoDirection&&setTimeout(()=>{e.querySelectorAll(".mln__has-child").forEach(e=>{const t=document.body.getBoundingClientRect();e.getBoundingClientRect().left-t.left+2*e.offsetWidth>mlnViewport().width&&window.matchMedia(`(min-width: ${s}px)`).matches?e.classList.add("mln__child--flow-right"):e.classList.remove("mln__child--flow-right")})},300)},h=()=>{if(!n.expandActiveItem)return;const t=n.activeSelector;l.querySelectorAll(t).forEach(e=>{e.classList.add("mln__has-child--expand-on-load");let t=e.closest(".mln__has-child");for(;t;)t.classList.add("mln__has-child--expand-on-load"),t=t.parentElement.closest(".mln__has-child")});if(l.querySelectorAll(".mln__has-child--expand-on-load").forEach(e=>{(!r||l.closest(".mln--navbar")&&window.matchMedia(`(max-width: ${s-1}px)`).matches&&!r)&&c(e,"show",!1),l.closest(".mln--navbar")&&window.matchMedia(`(min-width: ${s}px)`).matches&&c(e,"hide",!1)}),n.offCanvasScrollToActiveItem){const t=e.querySelectorAll(n.activeSelector),l=t[t.length-1];if(l){const e=l.getBoundingClientRect().top,t=document.getElementById("offCanvasArea");t&&t.scrollTo({top:e,behavior:"auto"})}setTimeout(()=>{o.classList.add("js-off-canvas-scrolled")},2)}r=!0};if(!l)return;if(i){const e=document.createElement("div");for(e.classList.add("mln__expander__helper");i.firstChild;)e.appendChild(i.firstChild);i.appendChild(e)}const u=e.querySelector(".mln__expand-btn");u&&u.addEventListener("click",()=>{d()});l.querySelectorAll("li:not(.mln__child__mega-menu li)").forEach(e=>{let t=1,n=e.parentElement;for(;n&&n!==l;)"LI"===n.nodeName&&t++,n=n.parentElement;e.classList.add("mln__level-"+t)});if(l.querySelectorAll(".mln__child__mega-menu").forEach(e=>{const t=document.createElement("div");t.classList.add("mln__child__collapse"),t.setAttribute("tabindex","-1");const n=document.createElement("div");n.classList.add("mln__child__collapse__helper"),e.parentNode.insertBefore(t,e),t.appendChild(n),n.appendChild(e);const l=t.closest("li");l&&l.classList.add("mln__has-child")}),n.navbarMegaMenuBackdrop&&!document.querySelector(".mln-backdrop")){const e=document.createElement("div");e.classList.add("mln-backdrop"),o.appendChild(e)}const _=`.mln__level-${n.excludeLevel} > ul, .mln__level-${n.excludeLevel} > ul ul`,v=Array.from(l.querySelectorAll("ul")),p=Array.from(l.querySelectorAll(_));v.filter(e=>!p.includes(e)).forEach(e=>{if(e.parentNode.querySelector(".mln__child__collapse")){const t=e.parentNode.querySelector(".mln__child__collapse__helper");t&&(e.classList.add("mln__child__list"),t.insertBefore(e,t.firstChild))}else if(!e.closest(".mln__child__mega-menu")){e.classList.add("mln__child__list");const t=document.createElement("div");t.classList.add("mln__child__collapse"),t.setAttribute("tabindex","-1");const n=document.createElement("div");n.classList.add("mln__child__collapse__helper"),e.parentNode.insertBefore(t,e),t.appendChild(n),n.appendChild(e);const l=t.closest("li");l&&l.classList.add("mln__has-child")}});l.querySelectorAll(".mln__child__mega-menu").forEach(e=>{const t=e.closest("li");t&&t.classList.add("mln__has-child--mega-menu")});const g=l.querySelectorAll(".mln__has-child");g.forEach(e=>{const t=Array.from(e.children).find(e=>"A"===e.tagName);if(t){const e=document.createElement("div");e.classList.add("mln__child-controls"),t.parentNode.insertBefore(e,t),e.appendChild(t)}});l.querySelectorAll(".mln__child-controls").forEach(e=>{const t=e.querySelector("a");if(t){const l="Toggle items under "+t.textContent.trim(),i=document.createElement("button");i.classList.add("mln__toggle-btn"),i.setAttribute("type","button"),i.setAttribute("aria-label",l),i.innerHTML=n.childMenuTogglerSymbol,e.appendChild(i)}});if(l.querySelectorAll(".mln__child__collapse").forEach((e,t)=>{const n="mln"+mlnCurrent+"ChildCollapse"+(t+1);e.setAttribute("aria-hidden","true"),e.setAttribute("data-mln-active-status","off"),e.setAttribute("id",n);const l=e.closest("li");if(l){const e=l.querySelector(".mln__toggle-btn");e&&(e.setAttribute("aria-expanded","false"),e.setAttribute("aria-controls",n))}}),i){const t="mln"+mlnCurrent+"Expander1";i.setAttribute("aria-hidden","true"),i.setAttribute("id",t);const n=e.querySelector(".mln__expand-btn");n&&(n.setAttribute("aria-expanded","false"),n.setAttribute("aria-controls",t))}if(n.menuCloseOnInPageAnchorClick){e.querySelectorAll("a").forEach(t=>{const n=t.getAttribute("href");if(!n)return;const l="#"===n.charAt(0);t.addEventListener("click",t=>{if(l&&!t.target.closest(".mln__toggle-link")&&window.matchMedia(`(min-width: ${s}px)`).matches){e.querySelectorAll(".mln__has-child--showing").forEach(e=>{c(e,"hide",!0)})}})})}if(n.expanderCloseOnInPageAnchorClick){e.querySelectorAll("a").forEach(e=>{const t=e.getAttribute("href");if(!t)return;const n="#"===t.charAt(0);e.addEventListener("click",e=>{n&&!e.target.closest(".mln__toggle-link")&&d("hide")})})}if(n.wholeLinkToggler||n.topLevelWholeLinkToggler){let t=[];if(n.wholeLinkToggler&&(t=Array.from(l.querySelectorAll(".mln__child-controls > a")),e.classList.add("mln--whole-link-expand")),n.topLevelWholeLinkToggler){t=Array.from(l.children).filter(e=>e.classList.contains("mln__has-child")).map(e=>e.querySelector(".mln__child-controls > a")).filter(Boolean),e.classList.remove("mln--whole-link-expand"),e.classList.add("mln--top-level-whole-link-expand")}t.forEach(e=>{const t=e.closest(".mln__has-child").querySelector(".mln__toggle-btn");if(!t)return;const l=t.getAttribute("aria-expanded"),i=t.getAttribute("aria-controls"),s=document.createElement("span");s.classList.add("mln__toggle-indicator"),s.innerHTML=n.childMenuTogglerSymbol,e.appendChild(s),e.classList.add("mln__toggle-link"),e.setAttribute("role","button"),e.setAttribute("aria-expanded",l),e.setAttribute("aria-controls",i),e.addEventListener("click",t=>{e.focus(),t.preventDefault()}),t.remove()})}const f=l.querySelectorAll(".mln__toggle-btn, .mln__toggle-link");let b=!1;if(f.forEach(e=>{e.addEventListener("touchmove",()=>{b=!0},{passive:!0})}),f.forEach(t=>{const l=l=>{l.stopPropagation(),l.preventDefault();const i=t.closest(".mln__has-child");if(!i)return;const a=i.querySelector(".mln__child__collapse");if(!a)return;const o=Array.from(i.parentElement.querySelectorAll(".mln__has-child--showing")).filter(e=>e!==i);"click"!==l.type&&"touchend"!==l.type||b||e.querySelector(".mln__has-child--showing.mln__child--transitioning")||(window.matchMedia(`(min-width: ${s}px)`).matches&&!0===n.autoCloseNavbarMenus&&!t.closest(".mln--expand-above-breakpoint")&&t.closest(".mln--navbar")&&(a.setAttribute("data-mln-active-status","off"),o.forEach(e=>{c(e,"hide",!0)})),i.classList.contains("mln__has-child--showing")?(c(t,"hide",!0),a.setAttribute("data-mln-active-status","off")):(c(t,"show",!0),a.setAttribute("data-mln-active-status","on"))),b=!1};t.addEventListener("touchend",l),t.addEventListener("click",l)}),n.toggleOnClickOnly||g.forEach(e=>{const t=e.querySelector(".mln__child__collapse"),l=()=>{t&&t.setAttribute("data-mln-active-status","on"),window.matchMedia(`(min-width: ${s}px)`).matches&&e.closest(".mln--navbar")&&c(e,"show",!0)},i=()=>{t&&t.setAttribute("data-mln-active-status","off"),window.matchMedia(`(min-width: ${s}px)`).matches&&t&&"false"===t.getAttribute("aria-hidden")&&e.closest(".mln--navbar")&&c(e,"hide",!0)};n.hoverIntent?mlnHoverIntent(e,{over:l,timeout:n.hoverIntentTimeout,out:i}):(e.addEventListener("mouseenter",()=>{window.matchMedia(`(min-width: ${s}px)`).matches&&e.closest(".mln--navbar")&&(e.classList.contains("mln__has-child--showing")?(t&&t.setAttribute("data-mln-active-status","off"),c(e,"hide",!0)):(t&&t.setAttribute("data-mln-active-status","on"),c(e,"show",!0)))}),e.addEventListener("mouseleave",()=>{window.matchMedia(`(min-width: ${s}px)`).matches&&e.closest(".mln--navbar")&&(t&&t.setAttribute("data-mln-active-status","off"),c(e,"hide",!0))}))}),l){let t;l.addEventListener("keydown",t=>{const n=t.keyCode,l=t.target;if(27===n){const e=l.closest(".mln__has-child--showing");if(e){const t=e.querySelector(".mln__toggle-btn, .mln__toggle-link");t&&t.focus(),c(e,"hide",!0)}}if(9===n&&"false"===l.getAttribute("aria-expanded")&&l.parentNode.nextElementSibling&&l.parentNode.nextElementSibling.classList.contains("mln__child__collapse")&&l.parentNode.nextElementSibling.classList.contains("mln__child--transitioning")){let n=null;const i=l.closest(".mln__has-child").nextElementSibling;if(i&&(n=i.querySelector("a")),!n){const t=l.closest(".mln__level-1").nextElementSibling;t&&(n=t.querySelector("a"));e.querySelectorAll(".mln__has-child--showing").forEach(e=>{c(e,"hide",!0)})}n&&(t.preventDefault(),n.focus())}}),l.addEventListener("keyup",t=>{const l=t.target;if(!l.closest(".mln__has-child--showing")&&window.matchMedia(`(min-width: ${s}px)`).matches&&!0===n.autoCloseInactiveMenu&&l.closest(".mln--navbar")){e.querySelectorAll(".mln__has-child--showing").forEach(e=>{c(e,"hide",!0)})}}),n.keepMenuOpenOnFocusOut||l.addEventListener("focusout",l=>{setTimeout(()=>{if(window.matchMedia(`(min-width: ${s}px)`).matches){const e=document.activeElement;Array.from(document.querySelectorAll(".mln--navbar")).filter(t=>!t.contains(e)).forEach(e=>{e.querySelectorAll(".mln__has-child--showing").forEach(e=>{c(e,"hide",!0)})})}if(t=!(!document.activeElement.closest(".mln--navbar")||!document.activeElement.closest(".mln__list")),!t&&window.matchMedia(`(min-width: ${s}px)`).matches&&"keydown"!==l.type&&!0===n.autoCloseNavbarMenus&&l.target.closest(".mln--navbar")&&!document.activeElement.closest(".mln__has-child--showing")){e.querySelectorAll(".mln__has-child--showing").forEach(e=>{c(e,"hide",!0)})}},150)})}e.addEventListener("transition.mln.child",()=>{e.querySelectorAll(".mln__visible-menu").forEach(e=>e.classList.remove("mln__visible-menu"))}),["hide.mln.child","show.mln.child"].forEach(t=>{e.addEventListener(t,()=>{E()})});const E=()=>{const t=e.querySelectorAll(".mln__has-child--showing");if(0===t.length){const t=e.querySelector(".mln__list");t&&t.classList.add("mln__visible-menu")}else{const e=t[t.length-1];e&&e.classList.add("mln__visible-menu")}};return window.addEventListener("mlnResizeEnd",()=>{if(window.matchMedia(`(min-width: ${s}px)`).matches&&!0===n.autoCloseNavbarMenus&&!1===n.expandActiveItem){e.querySelectorAll(".mln__has-child--showing").forEach(e=>{c(e,"hide",!1)}),i&&(i.style.height="",i.classList.remove("mln__expander--showing"))}h(),d(!1),m()}),h(),d(!1),m(),e.classList.add("mln--js-loaded"),e.dispatchEvent(mlnCreateCustomEvent("initialized.mln")),E(),mlnCurrent++,{element:e,toggleChild:c,toggleExpander:d,assignFlowDirection:m,expandActiveItem:h}},multilevelNav=(e,t)=>{const n=document.querySelectorAll(e),l=[];return n.forEach(e=>{const n=multilevelNavSetup(e,t);n&&l.push(n)}),l};"undefined"!=typeof jQuery&&(jQuery.fn.multilevelNav=function(e){return this.each(function(){multilevelNavSetup(this,e)})});//# sourceMappingURL=multilevel-nav.min.js.map
